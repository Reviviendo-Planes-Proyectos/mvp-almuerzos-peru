<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Men√∫ del Restaurante - Almuerzos Per√∫</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/menu.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- Preload critical resources -->
    <link rel="preload" href="js/menu.js" as="script" />
    <link rel="preload" href="images/logo.png" as="image" />

    <!-- Firebase scripts must load before our scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

    <meta property="og:type" content="website" />
    <meta property="og:url" content="" id="og-url" />
    <meta property="og:title" content="" id="og-title" />
    <meta property="og:description" content="" id="og-description" />
    <meta property="og:image" content="" id="og-image" />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="" id="twitter-url" />
    <meta property="twitter:title" content="" id="twitter-title" />
    <meta property="twitter:description" content="" id="twitter-description" />
    <meta property="twitter:image" content="" id="twitter-image" />
  </head>
  <body>
    <div id="custom-toast" class="custom-toast hidden"></div>
    <header class="main-header">
      <div class="container header-content">
        <a
          href="index.html"
          class="logo"
          style="text-decoration: none; color: inherit"
        >
          <span style="display: flex; align-items: center; gap: 0.5rem">
            <img
              src="images/Logo-Almuerzo-Per√∫.png"
              alt="Logo Almuerzos Per√∫"
              style="
                height: 22px;
                width: auto;
                margin-right: 0.1rem;
                vertical-align: middle;
              "
              loading="eager"
            />
            <h1
              style="
                margin: 0;
                font-size: 1.5rem;
                font-weight: 800;
                cursor: pointer;
                letter-spacing: -1px;
                background: none;
              "
            >
              <span style="color: #1f2937">Almuerzos</span
              ><span style="color: #ff8c00">Per√∫</span>
            </h1>
          </span>
        </a>
        <div
          style="
            background-color: #ffffff;
            display: none;
            border-radius: 10px;
            padding-right: 15px;
            margin-right: 10px;
            padding-left: 15px;
            align-items: center;
          "
        >
          <img style="width: 25px" src="images/login.svg" alt="Login Icon" />
          <button id="my-account-btn" class="header-button">
            Soy comenzal
          </button>
          <span
            id="favorites-count-display"
            style="
              display: none;
              margin-left: 10px;
              cursor: pointer;
              color: #e91e63;
              font-weight: bold;
              font-size: 1.1em;
              gap: 5px;
            "
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="currentColor"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-heart"
            >
              <path
                d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
              ></path>
            </svg>
            <span id="favorites-counter">0</span>
          </span>
          <span
            id="logout-text"
            style="
              display: none;
              margin-left: 10px;
              cursor: pointer;
              color: #555;
              font-size: 0.9em;
            "
            >(Cerrar Sesi√≥n)</span
          >
        </div>
      </div>
    </header>

    <a href="/index.html" class="banner-back-btn">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="3"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M19 12H5"></path>
        <path d="M12 19l-7-7 7-7"></path>
      </svg>
    </a>

    <div class="container">
      <div id="menu-banner" class="menu-banner">
        <div class="restaurant-header">
          <div class="restaurant-icon">
            <img
              id="restaurant-logo"
              src=""
              alt="Logo"
              style="
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 50%;
                display: none;
              "
            />
            <svg
              id="restaurant-icon-placeholder"
              width="40"
              height="40"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7 13C8.66 13 10 11.66 10 10S8.66 7 7 7 4 8.34 4 10 5.34 13 7 13Z"
                fill="currentColor"
              />
              <path
                d="M20 13V6C20 5.45 19.55 5 19 5H14C13.45 5 13 5.45 13 6V13C13 13.55 13.45 14 14 14H19C19.55 14 20 13.55 20 13Z"
                fill="currentColor"
              />
              <path
                d="M21 15H3C2.45 15 2 15.45 2 16V18C2 18.55 2.45 19 3 19H21C21.55 19 22 18.55 22 18V16C22 15.45 21.55 15 21 15Z"
                fill="currentColor"
              />
            </svg>
          </div>
          <div class="restaurant-info">
            <div class="restaurant-title-container">
              <h2 id="restaurant-name">Cargando...</h2>
              <div class="restaurant-status mobile-status">
                <div class="mobile-status-dot"></div>
              </div>
            </div>
            <div class="restaurant-details">
              <div class="restaurant-detail">
                <span class="detail-icon">üïê</span>
                <span id="restaurant-hours"></span>
              </div>
              <div class="restaurant-detail">
                <span class="detail-icon">‚ù§Ô∏è</span>
                <span id="restaurant-total-likes">0</span>
              </div>
              <div
                id="restaurant-delivery-detail"
                class="restaurant-detail"
                style="display: none"
              >
                <span class="detail-icon">üöö</span>
              </div>
              <div
                id="restaurant-local-detail"
                class="restaurant-detail"
                style="display: none"
              >
                <span class="detail-icon">üçΩÔ∏è</span>
              </div>
              <div class="restaurant-detail">
                <span class="detail-icon"><i class="fa-solid fa-location-dot"></i></span>
                <a
                  id="restaurant-location"
                  class="mapa-badge"
                  href="#"
                  target="_blank"
                  rel="noopener noreferrer"
                  style="
                    color: inherit;
                    text-decoration: underline;
                    cursor: pointer;
                  "
                ></a>
              </div>
              <div class="restaurant-detail">
                <span class="detail-icon" id="restaurant-delivery-icon"
                  >üöö</span
                >
                <span id="restaurant-delivery-text">Cargando...</span>
              </div>
            </div>
          </div>
        </div>
        <div class="restaurant-status desktop-status">
          <span class="status-badge">CARGANDO...</span>
        </div>
      </div>

      <p id="restaurant-description" class="restaurant-description"></p>

      <nav id="cards-nav" class="cards-nav">
        <p style="color: white; text-align: center">Cargando cartas...</p>
      </nav>

      <div id="dishes-container" class="dishes-container">
        <p style="text-align: center">
          Selecciona una carta para ver sus platos.
        </p>
      </div>

      <button class="order-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="whatsapp-icon">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"/>
        </svg>
        Pedir por WhatsApp
      </button>
    </div>

    <button id="share-btn" class="banner-share-btn" style="display: none">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-share-2"
      >
        <circle cx="18" cy="5" r="3"></circle>
        <circle cx="6" cy="12" r="3"></circle>
        <circle cx="18" cy="19" r="3"></circle>
        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
      </svg>
    </button>

    <div id="toast-notification" class="toast"></div>

    <div id="login-modal-overlay" class="login-modal-overlay">
      <div class="login-modal-content">
        <button class="login-modal-close-btn" id="login-modal-close-btn">
          &times;
        </button>
        <h2>¬°Bienvenido!</h2>
        <p>
          √önete para poder dar "Me gusta" a tus platos favoritos o realizar
          pedidos.
        </p>
        <button id="google-login-btn">
          <img
            src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
            alt="Google icon"
          />
          Unirse con Google
        </button>
      </div>
    </div>

    <div id="commentModalOverlay" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <img id="commentDishImage" src="" alt="Plato" class="modal-image" />
        <h2 id="commentDishName"></h2>
        <p>¬øQu√© tal te pareci√≥ el platillo? ¬øC√≥mo podr√≠amos mejorarlo?</p>
        <textarea
          id="commentText"
          rows="4"
          maxlength="120"
          placeholder="Escribe tu comentario aqu√≠..."
        ></textarea>
        <div class="progress-row">
          <div class="progress-container">
            <div id="progressBar" class="progress-bar"></div>
          </div>
          <span id="charCounter" class="char-counter">0 / 120</span>
        </div>
        <div class="modal-buttons">
          <button id="omitCommentBtn">Omitir</button>
          <button id="submitCommentBtn">Enviar comentario</button>
        </div>
      </div>
    </div>

    <!-- Load JavaScript at the end for better performance -->
    <script defer src="js/menu.js"></script>
  </body>
</html>
