<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - Almuerzos Perú</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/login.css" />
  </head>
  <body>
    <div class="auth-container">
      <div id="loading-screen" class="auth-screen active">
        <p>Verificando sesión...</p>
      </div>

      <div id="login-initial" class="auth-screen">
        <a href="index.html">
          <img style="width: 250px" src="images/logo.png" />
        </a>
        <p class="auth-separator">INICIAR SESIÓN</p>
        <button class="auth-button google-button" onclick="signIn()">
          <svg width="20" height="20" viewBox="0 0 48 48">
            <path
              fill="#FFC107"
              d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"
            ></path>
            <path
              fill="#FF3D00"
              d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"
            ></path>
            <path
              fill="#4CAF50"
              d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"
            ></path>
            <path
              fill="#1976D2"
              d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C42.022,35.28,44,30.038,44,24C44,22.659,43.862,21.35,43.611,20.083z"
            ></path>
          </svg>
          Continuar con google
        </button>
        <p class="auth-separator">¿Aún no tienes una cuenta?</p>
        <button
          class="auth-button dark-button"
          onclick="showScreen('register-choice')"
        >
          Registrar mi restaurante
        </button>
      </div>

      <div id="register-choice" class="auth-screen">
        <button class="back-button" onclick="showScreen('login-initial')">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="3"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M19 12H5"></path>
            <path d="M12 19l-7-7 7-7"></path>
          </svg>
        </button>
        <p style="margin-bottom: 1rem; font-weight: 700">Regístrate en:</p>
        <a href="/" class="logo">
          <span>Almuerzos Perú</span>
        </a>
        <button class="auth-button google-button" onclick="signIn()">
          <svg width="20" height="20" viewBox="0 0 48 48">
            <path
              fill="#FFC107"
              d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"
            ></path>
            <path
              fill="#FF3D00"
              d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"
            ></path>
            <path
              fill="#4CAF50"
              d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"
            ></path>
            <path
              fill="#1976D2"
              d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C42.022,35.28,44,30.038,44,24C44,22.659,43.862,21.35,43.611,20.083z"
            ></path>
          </svg>
          Continuar con google
        </button>
      </div>

      <div id="restaurant-form" class="auth-screen">
        <p style="margin-bottom: 1rem; font-weight: 700">
          Completa los datos de tu restaurante
        </p>
        <a href="/" class="logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M16 2a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"
            ></path>
            <path d="M12 14v6"></path>
            <path d="M12 2v2"></path>
            <path d="m15 14-3-3-3 3"></path>
          </svg>
          <span>Almuerzos Perú</span>
        </a>
        <form id="new-restaurant-form">
          <div class="form-group">
            <label
              id="register-image-upload-box"
              class="image-upload-box"
              for="register-image-input"
            >
              <img
                id="register-image-preview"
                src=""
                alt="Previsualización del local"
                style="
                  display: none;
                  width: 60px;
                  height: 60px;
                  object-fit: cover;
                  border-radius: 0.25rem;
                "
              />
              <div
                id="register-image-placeholder"
                style="
                  display: flex;
                  align-items: center;
                  gap: 1rem;
                  width: 100%;
                "
              >
                <div class="icon">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <rect
                      x="3"
                      y="3"
                      width="18"
                      height="18"
                      rx="2"
                      ry="2"
                    ></rect>
                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                    <polyline points="21 15 16 10 5 21"></polyline>
                  </svg>
                </div>
                <span>Foto del local</span>
              </div>
            </label>
            <input
              type="file"
              id="register-image-input"
              accept="image/png, image/jpeg"
              style="display: none"
            />
          </div>
          <div class="form-group">
            <input
              type="text"
              name="name"
              placeholder="Nombre del Restaurante"
              required
            />
          </div>
          <div class="form-group">
            <textarea
              name="description"
              rows="3"
              placeholder="Descripción del restaurante"
              required
              maxlength="300"
            ></textarea>
          </div>
          <div class="form-group">
            <select name="district" required>
              <option value="" disabled selected>
                Distrito del restaurante
              </option>
              <option>Ate</option>
              <option>Barranco</option>
              <option>Breña</option>
              <option>Carabayllo</option>
              <option>Cercado de Lima</option>
              <option>Chaclacayo</option>
              <option>Chorrillos</option>
              <option>Cieneguilla</option>
              <option>Comas</option>
              <option>El Agustino</option>
              <option>Independencia</option>
              <option>Jesús María</option>
              <option>La Molina</option>
              <option>La Victoria</option>
              <option>Lince</option>
              <option>Los Olivos</option>
              <option>Lurigancho (Chosica)</option>
              <option>Lurín</option>
              <option>Magdalena del Mar</option>
              <option>Pueblo Libre</option>
              <option>Miraflores</option>
              <option>Pachacámac</option>
              <option>Puente Piedra</option>
              <option>Rímac</option>
              <option>San Bartolo</option>
              <option>San Borja</option>
              <option>San Isidro</option>
              <option>San Juan de Lurigancho</option>
              <option>San Juan de Miraflores</option>
              <option>San Luis</option>
              <option>San Martín de Porres</option>
              <option>San Miguel</option>
              <option>Santa Anita</option>
              <option>Santa María del Mar</option>
              <option>Santa Rosa</option>
              <option>Santiago de Surco</option>
              <option>Surquillo</option>
              <option>Villa El Salvador</option>
              <option>Villa María del Triunfo</option>
              <option>Bellavista</option>
              <option>Callao</option>
              <option>Carmen de la Legua Reynoso</option>
              <option>La Perla</option>
              <option>La Punta</option>
              <option>Mi Perú</option>
              <option>Ventanilla</option>
            </select>
          </div>
          <div class="form-group">
            <input
              type="tel"
              name="whatsapp"
              placeholder="Número de Whatsapp"
              required
            />
          </div>
          <button
            type="submit"
            class="auth-button dark-button"
            style="margin-top: 1rem"
          >
            Registrar mi restaurante
          </button>
          <p id="form-error" class="error-message" style="display: none"></p>
        </form>
      </div>

      <div id="welcome-back" class="auth-screen">
        <a href="/" class="logo">
          <span>Almuerzos Perú</span>
        </a>
        <p class="toast-subtitle">Qué bueno verte otra vez por aquí ❤️</p>
        <h2 id="restaurant-name-toast" class="toast-title"></h2>
        <button
          class="auth-button google-button"
          style="margin-top: 2rem"
          onclick="redirectToDashboard()"
        >
          Ingresar a mi restaurante
        </button>
      </div>

      <div id="register-success" class="auth-screen">
        <a href="/" class="logo">
          <span>Almuerzos Perú</span>
        </a>
        <p class="toast-icon">Bienvenid@!🎉</p>
        <h2 class="toast-title">Registro Exitoso</h2>
        <button
          class="auth-button google-button"
          style="margin-top: 2rem"
          onclick="redirectToDashboard()"
        >
          Ingresar a mi restaurante
        </button>
      </div>
    </div>

    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="js/login.js"></script>
  </body>
</html>
